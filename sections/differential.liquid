<section class="mx-auto max-w-[1600px] px-4 pb-16 sm:px-8 lg:px-8">
  <div class="grid grid-cols-1 md:grid-cols-{{ section.blocks.size }} items-start gap-8 md:gap-12">
    {% for block in section.blocks limit: 3 %}
      <div
        class="flex flex-col items-center {% if forloop.first %}md:items-start text-center md:text-left{% elsif forloop.last %}md:items-end text-center md:text-right{% else %}text-center{% endif %} group {% unless forloop.first %}mt-8 md:mt-0{% endunless %} {% if forloop.index == 3 %}mt-16 md:mt-0{% endif %}"
        {{ block.shopify_attributes }}
      >
        <div class="relative mb-6">
          <div class="flex h-16 w-16 items-center justify-center rounded-full border border-purple-100 bg-white shadow-lg transition-shadow duration-300 group-hover:shadow-xl">
            {% case block.settings.icon_type %}
              {% when 'shield' %}
                <!-- Shield Icon -->
                <svg class="h-8 w-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                </svg>

              {% when 'medal' %}
                <div class="relative">
                  <svg class="h-8 w-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"/>
                  </svg>
                  {% if block.settings.medal_number != blank %}
                    <span class="absolute inset-0 flex items-center justify-center text-xs font-bold text-purple-600">
                      {{- block.settings.medal_number -}}
                    </span>
                  {% endif %}
                </div>

              {% when 'headset' %}
                <svg class="h-8 w-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"/>
                </svg>

              {% when 'star' %}
                <svg class="h-8 w-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/>
                </svg>

              {% when 'heart' %}
                <svg class="h-8 w-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                </svg>

              {% else %}
                <svg class="h-8 w-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                </svg>
            {% endcase %}
          </div>
        </div>
        <div class="space-y-3">
          <h3 class="text-xl font-semibold text-purple-700">
            {{ block.settings.title | default: 'Título do Bloco' }}
          </h3>
          <p class="text-sm leading-relaxed text-gray-600">
            {{ block.settings.description | default: 'Descrição do bloco.' }}
          </p>
        </div>
      </div>
    {% endfor %}
  </div>
</section>

{% schema %}
{
  "name": "Seção de Diferenciais",
  "tag": "section",
  "class": "features-section",
  "max_blocks": 3,
  "blocks": [
    {
      "type": "feature_block",
      "name": "Bloco de Diferencial",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Título",
          "default": "Título do Diferencial"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Descrição",
          "default": "Descrição do diferencial."
        },
        {
          "type": "select",
          "id": "icon_type",
          "label": "Tipo de Ícone",
          "options": [
            {
              "value": "shield",
              "label": "Escudo (Certificação)"
            },
            {
              "value": "medal",
              "label": "Medalha (Garantia)"
            },
            {
              "value": "headset",
              "label": "Fone (Suporte)"
            },
            {
              "value": "star",
              "label": "Estrela (Qualidade)"
            },
            {
              "value": "heart",
              "label": "Coração (Cuidado)"
            },
            {
              "value": "check",
              "label": "Check (Aprovado)"
            }
          ],
          "default": "check"
        },
        {
          "type": "text",
          "id": "medal_number",
          "label": "Número na Medalha",
          "info": "Só aparece quando o ícone for 'Medalha'. Ex: 2, 3, 5...",
          "default": "2"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Diferenciais",
      "blocks": [
        {
          "type": "feature_block",
          "settings": {
            "title": "Excelência Comprovada",
            "description": "Certificações ISO 9001 e ISO 13485, Inmetro e Anvisa.",
            "icon_type": "shield"
          }
        },
        {
          "type": "feature_block",
          "settings": {
            "title": "Garantia de 2 Anos",
            "description": "Mais tranquilidade com cobertura estendida e suporte confiável.",
            "icon_type": "medal",
            "medal_number": "2"
          }
        },
        {
          "type": "feature_block",
          "settings": {
            "title": "Atendimento Especializado",
            "description": "Suporte técnico de ponta a ponta, com foco total nas suas necessidades.",
            "icon_type": "headset"
          }
        }
      ]
    }
  ]
}
{% endschema %}
